{"version":3,"file":"gallery.js","sources":["../src/js/UnsplashAPI.js","../src/js/renderfoo.js","../src/img/javascript.svg","../src/js/gallery.js"],"sourcesContent":["import axios from 'axios';\n\nexport default class UnsplashAPI {\n  #BASE_URL = 'https://api.unsplash.com/search/photos';\n  #API_KEY = 'gcevo00lZKvSMKLnZZJPKYS5xNbpbsP_4i6E-BVlG58';\n  #query = \"\";\n\n  async getPopularPhotos(page) {\n    const params = {\n      client_id: this.#API_KEY,\n      query: 'popular',\n      page,\n      per_page: 12,\n      orientation: 'portrait',\n    };\n    const result = await axios(this.#BASE_URL, { params });\n    return result.data;\n  }\n  async getPhotosByQuery(page){\n    const params = {\n      client_id: this.#API_KEY,\n      query: this.#query,\n      page,\n      per_page: 12,\n      orientation: 'portrait',\n    };\n    const result = await axios(this.#BASE_URL, { params });\n    return result.data;\n  }\n  set query(newQuery){\n    this.#query = newQuery;\n  }\n}\n","export default function renderingFoo(arr) {\n  return arr\n    .map(result => {\n      return `<li class=\"gallery__item\"><img class=\"gallery-img\" src=\"${result.urls.small}\" alt=\"${result.alt_description}\"></img></li>`;\n    })\n    .join('');\n}\n","export default \"data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20aria-hidden='true'%20role='img'%20class='iconify%20iconify--logos'%20width='32'%20height='32'%20preserveAspectRatio='xMidYMid%20meet'%20viewBox='0%200%20256%20256'%3e%3cpath%20fill='%23F7DF1E'%20d='M0%200h256v256H0V0Z'%3e%3c/path%3e%3cpath%20d='m67.312%20213.932l19.59-11.856c3.78%206.701%207.218%2012.371%2015.465%2012.371c7.905%200%2012.89-3.092%2012.89-15.12v-81.798h24.057v82.138c0%2024.917-14.606%2036.259-35.916%2036.259c-19.245%200-30.416-9.967-36.087-21.996m85.07-2.576l19.588-11.341c5.157%208.421%2011.859%2014.607%2023.715%2014.607c9.969%200%2016.325-4.984%2016.325-11.858c0-8.248-6.53-11.17-17.528-15.98l-6.013-2.58c-17.357-7.387-28.87-16.667-28.87-36.257c0-18.044%2013.747-31.792%2035.228-31.792c15.294%200%2026.292%205.328%2034.196%2019.247l-18.732%2012.03c-4.125-7.389-8.591-10.31-15.465-10.31c-7.046%200-11.514%204.468-11.514%2010.31c0%207.217%204.468%2010.14%2014.778%2014.608l6.014%202.577c20.45%208.765%2031.963%2017.7%2031.963%2037.804c0%2021.654-17.012%2033.51-39.867%2033.51c-22.339%200-36.774-10.654-43.819-24.574'%3e%3c/path%3e%3c/svg%3e\"","import UnsplashAPI from './UnsplashAPI.js';\nimport Pagination from 'tui-pagination';\nimport 'tui-pagination/dist/tui-pagination.min.css';\nimport renderingFoo from './renderfoo.js';\nimport iziToast from 'izitoast';\nimport icon from '../img/javascript.svg';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst api = new UnsplashAPI();\n\nconst galleryList = document.querySelector('.gallery');\nconst container = document.getElementById('tui-pagination-container');\nconst form = document.querySelector('.js-search-form');\nconst input = document.querySelector('.search-input');\nconst loader = document.querySelector('.loader');\n\nconst options = {\n  totalItems: 0,\n  itemsPerPage: 12,\n  visiblePages: 5,\n  page: 1,\n};\n\nconst pagination = new Pagination(container, options);\n\nconst currentPage = pagination.getCurrentPage();\n\napi.getPopularPhotos(currentPage).then(result => {\n  galleryList.innerHTML = renderingFoo(result.results);\n  pagination.reset(result.total);\n});\n\npagination.on('afterMove', onPaginationOn);\n\nfunction onPaginationOn(event) {\n  const currentPage = event.page;\n  api\n    .getPopularPhotos(currentPage)\n    .then(res => (galleryList.innerHTML = renderingFoo(res.results)));\n}\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n  const inputValue = input.value.trim();\n  if (inputValue === '') {\n    iziToast.info({ message: 'Enter smt for search', iconUrl: icon });\n    return;\n  }\n  api.query = inputValue;\n  pagination.off('afterMove', onPaginationOn);\n  pagination.off('afterMove', onPaginationSearchByQuery);\n\n  loader.classList.remove('hidden');\n\n  api\n    .getPhotosByQuery(currentPage)\n    .then(result => {\n      galleryList.innerHTML = renderingFoo(result.results);\n\n      pagination.reset(result.total);\n    })\n    .catch(error => console.log(error))\n    .finally(() => {\n      loader.classList.add('hidden');\n      form.reset();\n    });\n\n  pagination.on('afterMove', onPaginationSearchByQuery);\n});\n\nfunction onPaginationSearchByQuery(event) {\n  const currentPage = event.page;\n  api\n    .getPhotosByQuery(currentPage)\n    .then(res => (galleryList.innerHTML = renderingFoo(res.results)));\n}\n"],"names":["UnsplashAPI","__privateAdd","_BASE_URL","_API_KEY","_query","page","params","__privateGet","axios","newQuery","__privateSet","renderingFoo","arr","result","icon","api","galleryList","container","form","input","loader","options","pagination","Pagination","currentPage","onPaginationOn","event","res","inputValue","iziToast","onPaginationSearchByQuery","error"],"mappings":"ucAEe,MAAMA,CAAY,CAAlB,cACbC,EAAA,KAAAC,EAAY,0CACZD,EAAA,KAAAE,EAAW,+CACXF,EAAA,KAAAG,EAAS,IAET,MAAM,iBAAiBC,EAAM,CAC3B,MAAMC,EAAS,CACb,UAAWC,EAAA,KAAKJ,GAChB,MAAO,UACP,KAAAE,EACA,SAAU,GACV,YAAa,UACnB,EAEI,OADe,MAAMG,EAAMD,EAAA,KAAKL,GAAW,CAAE,OAAAI,CAAM,CAAE,GACvC,IACf,CACD,MAAM,iBAAiBD,EAAK,CAC1B,MAAMC,EAAS,CACb,UAAWC,EAAA,KAAKJ,GAChB,MAAOI,EAAA,KAAKH,GACZ,KAAAC,EACA,SAAU,GACV,YAAa,UACnB,EAEI,OADe,MAAMG,EAAMD,EAAA,KAAKL,GAAW,CAAE,OAAAI,CAAM,CAAE,GACvC,IACf,CACD,IAAI,MAAMG,EAAS,CACjBC,EAAA,KAAKN,EAASK,EACf,CACH,CA7BEP,EAAA,YACAC,EAAA,YACAC,EAAA,YCLa,SAASO,EAAaC,EAAK,CACxC,OAAOA,EACJ,IAAIC,GACI,2DAA2DA,EAAO,KAAK,KAAK,UAAUA,EAAO,eAAe,eACpH,EACA,KAAK,EAAE,CACZ,CCNA,MAAeC,EAAA,qpCCQTC,EAAM,IAAIf,EAEVgB,EAAc,SAAS,cAAc,UAAU,EAC/CC,EAAY,SAAS,eAAe,0BAA0B,EAC9DC,EAAO,SAAS,cAAc,iBAAiB,EAC/CC,EAAQ,SAAS,cAAc,eAAe,EAC9CC,EAAS,SAAS,cAAc,SAAS,EAEzCC,EAAU,CACd,WAAY,EACZ,aAAc,GACd,aAAc,EACd,KAAM,CACR,EAEMC,EAAa,IAAIC,EAAWN,EAAWI,CAAO,EAE9CG,EAAcF,EAAW,iBAE/BP,EAAI,iBAAiBS,CAAW,EAAE,KAAKX,GAAU,CAC/CG,EAAY,UAAYL,EAAaE,EAAO,OAAO,EACnDS,EAAW,MAAMT,EAAO,KAAK,CAC/B,CAAC,EAEDS,EAAW,GAAG,YAAaG,CAAc,EAEzC,SAASA,EAAeC,EAAO,CAC7B,MAAMF,EAAcE,EAAM,KAC1BX,EACG,iBAAiBS,CAAW,EAC5B,KAAKG,GAAQX,EAAY,UAAYL,EAAagB,EAAI,OAAO,CAAE,CACpE,CAEAT,EAAK,iBAAiB,SAAUQ,GAAS,CACvCA,EAAM,eAAc,EACpB,MAAME,EAAaT,EAAM,MAAM,KAAI,EACnC,GAAIS,IAAe,GAAI,CACrBC,EAAS,KAAK,CAAE,QAAS,uBAAwB,QAASf,CAAI,CAAE,EAChE,MACD,CACDC,EAAI,MAAQa,EACZN,EAAW,IAAI,YAAaG,CAAc,EAC1CH,EAAW,IAAI,YAAaQ,CAAyB,EAErDV,EAAO,UAAU,OAAO,QAAQ,EAEhCL,EACG,iBAAiBS,CAAW,EAC5B,KAAKX,GAAU,CACdG,EAAY,UAAYL,EAAaE,EAAO,OAAO,EAEnDS,EAAW,MAAMT,EAAO,KAAK,CACnC,CAAK,EACA,MAAMkB,GAAS,QAAQ,IAAIA,CAAK,CAAC,EACjC,QAAQ,IAAM,CACbX,EAAO,UAAU,IAAI,QAAQ,EAC7BF,EAAK,MAAK,CAChB,CAAK,EAEHI,EAAW,GAAG,YAAaQ,CAAyB,CACtD,CAAC,EAED,SAASA,EAA0BJ,EAAO,CACxC,MAAMF,EAAcE,EAAM,KAC1BX,EACG,iBAAiBS,CAAW,EAC5B,KAAKG,GAAQX,EAAY,UAAYL,EAAagB,EAAI,OAAO,CAAE,CACpE"}